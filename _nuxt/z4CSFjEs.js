import{m as O,f as M,_ as E,o as i,c as u,l as T,B as W,k as N,p as z,a as o,t as b,n as p,F as D,C as L,q as I,g as s,s as F,y as v,D as q,d as A,z as V,w as S,e as a,b as _,E as G,A as P,G as J,T as K,r as U}from"./Cr04wkDS.js";import{u as R,a as Q,_ as X,b as Y}from"./BWPvVLAZ.js";import{u as Z,_ as ee}from"./P0RXK5Yl.js";import{_ as te}from"./DzIcChzD.js";import"./UJssAqB_.js";const re={wrapper:"w-full flex flex-col gap-2",indicator:{container:{base:"flex flex-row justify-end",width:"min-w-fit",transition:"transition-all"},align:"text-end",width:"w-fit",color:"text-gray-400 dark:text-gray-500",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base","2xl":"text-base"}},progress:{base:"block appearance-none border-none overflow-hidden",width:"w-full [&::-webkit-progress-bar]:w-full",size:{"2xs":"h-px",xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4","2xl":"h-5"},rounded:"rounded-full [&::-webkit-progress-bar]:rounded-full",track:"[&::-webkit-progress-bar]:bg-gray-200 [&::-webkit-progress-bar]:dark:bg-gray-700 [@supports(selector(&::-moz-progress-bar))]:bg-gray-200 [@supports(selector(&::-moz-progress-bar))]:dark:bg-gray-700",bar:"[&::-webkit-progress-value]:rounded-full [&::-webkit-progress-value]:transition-all [&::-webkit-progress-value]:ease-in-out [&::-moz-progress-bar]:rounded-full",color:"text-{color}-500 dark:text-{color}-400",background:"[&::-webkit-progress-value]:bg-current [&::-moz-progress-bar]:bg-current",indeterminate:{base:"indeterminate:relative",rounded:"indeterminate:after:rounded-full [&:indeterminate::-webkit-progress-value]:rounded-full [&:indeterminate::-moz-progress-bar]:rounded-full"}},steps:{base:"grid grid-cols-1",color:"text-{color}-500 dark:text-{color}-400",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base","2xl":"text-base"}},step:{base:"transition-all opacity-0 truncate row-start-1 col-start-1",align:"text-end",active:"opacity-100",first:"text-gray-500 dark:text-gray-400"},animation:{carousel:"bar-animation-carousel","carousel-inverse":"bar-animation-carousel-inverse",swing:"bar-animation-swing",elastic:"bar-animation-elastic"},default:{color:"primary",size:"md",animation:"carousel"}},w=O(M.ui.strategy,M.ui.progress,re),ae=I({inheritAttrs:!1,props:{value:{type:Number,default:null},max:{type:[Number,Array],default:100},indicator:{type:Boolean,default:!1},animation:{type:String,default:()=>w.default.animation,validator(e){return Object.keys(w.animation).includes(e)}},size:{type:String,default:()=>w.default.size,validator(e){return Object.keys(w.progress.size).includes(e)}},color:{type:String,default:()=>w.default.color,validator(e){return M.ui.colors.includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:t,attrs:x}=R("progress",F(e,"ui"),w,F(e,"class")),d=s(()=>v(t.value.indicator.container.base,t.value.indicator.container.width,t.value.indicator.container.transition)),f=s(()=>v(t.value.indicator.align,t.value.indicator.width,t.value.indicator.color,t.value.indicator.size[e.size])),y=s(()=>{const l=[t.value.progress.base,t.value.progress.width,t.value.progress.size[e.size],t.value.progress.rounded,t.value.progress.track,t.value.progress.bar,t.value.progress.color?.replaceAll("{color}",e.color),t.value.progress.background,t.value.progress.indeterminate.base,t.value.progress.indeterminate.rounded];return h.value&&l.push(t.value.animation[e.animation]),v(...l)}),n=s(()=>v(t.value.steps.base,t.value.steps.color?.replaceAll("{color}",e.color),t.value.steps.size[e.size])),c=s(()=>v(t.value.step.base,t.value.step.align)),g=s(()=>v(t.value.step.active)),m=s(()=>v(t.value.step.first));function r(l){return l===Number(e.value)}function k(l){return l===0}function $(l){l=Number(l);const B=[c.value];return k(l)&&B.push(m.value),r(l)&&B.push(g.value),B.join(" ")}const h=s(()=>e.value===void 0||e.value===null),j=s(()=>Array.isArray(e.max)),C=s(()=>h.value?null:Array.isArray(e.max)?e.max.length-1:Number(e.max)),H=s(()=>{if(!h.value)switch(!0){case e.value<0:return 0;case e.value>C.value:return 100;default:return e.value/C.value*100}});return{ui:t,attrs:x,indicatorContainerClass:d,indicatorClass:f,progressClass:y,stepsClass:n,stepClasses:$,isIndeterminate:h,isSteps:j,realMax:C,percent:H}}}),se=["aria-valuemax","aria-valuenow"];function ne(e,t,x,d,f,y){return i(),u("div",{class:p(e.ui.wrapper),role:"progressbar"},[e.indicator||e.$slots.indicator?T(e.$slots,"indicator",W(N({key:0},{percent:e.percent})),()=>[e.isSteps?z("",!0):(i(),u("div",{key:0,class:p(e.indicatorContainerClass),style:q({width:`${e.percent}%`})},[o("div",{class:p(e.indicatorClass)},b(Math.round(e.percent))+"% ",3)],6))],!0):z("",!0),o("progress",N({"aria-valuemax":e.realMax,"aria-valuenow":e.value,class:e.progressClass},{value:e.value,max:e.realMax,...e.attrs}),b(e.percent!==void 0?`${Math.round(e.percent)}%`:void 0),17,se),e.isSteps?(i(),u("div",{key:1,class:p(e.stepsClass)},[(i(!0),u(D,null,L(e.max,(n,c)=>(i(),u("div",{key:c,class:p(e.stepClasses(c))},[T(e.$slots,`step-${c}`,N({ref_for:!0},{step:n}),()=>[A(b(n),1)],!0)],2))),128))],2)):z("",!0)],2)}const oe=E(ae,[["render",ne],["__scopeId","data-v-ecc3179e"]]),le={class:"flex flex-col items-center gap-4"},ie={class:"relative w-32 h-32 sm:w-48 sm:h-48 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800 flex items-center justify-center"},ce=["src","alt"],ue={key:1,class:"text-4xl font-bold text-gray-400"},de={class:"text-center"},me={class:"text-2xl font-bold truncate w-full"},pe=I({__name:"CharacterCard",props:{character:{},selected:{type:Boolean}},setup(e){const t=e,{currentSrc:x,imageError:d,handleImageError:f}=Z(()=>t.character.image),y=s(()=>{switch(t.character.series){case"WindBreaker":return"blue";case"Haikyu":return"orange";case"MHA":return"red";default:return"gray"}}),n=s(()=>{switch(t.character.series){case"WindBreaker":return"防風少年";case"Haikyu":return"排球少年";case"MHA":return"我的英雄學院";default:return t.character.series}});return(c,g)=>{const m=ee,r=te;return i(),V(r,{class:p(["cursor-pointer transition-all duration-200 hover:ring-2 hover:ring-primary-500 hover:scale-[1.02] select-none",{"ring-2 ring-primary-500 scale-[1.02]":e.selected}])},{default:S(()=>[o("div",le,[o("div",ie,[a(d)?(i(),u("div",ue,b(e.character.name.charAt(0)),1)):(i(),u("img",{key:0,src:a(x),alt:e.character.name,class:"w-full h-full object-cover select-none",draggable:"false",onError:g[0]||(g[0]=(...k)=>a(f)&&a(f)(...k))},null,40,ce))]),o("div",de,[o("h3",me,b(e.character.name),1),_(m,{color:a(y),variant:"solid",class:"mt-3 opacity-80"},{default:S(()=>[A(b(a(n)),1)]),_:1},8,["color"])])])]),_:1},8,["class"])}}}),fe={class:"mb-8"},ge={class:"text-center text-sm text-gray-500 dark:text-gray-400 mb-2"},ve={class:"font-semibold text-primary-500"},be={class:"w-full max-w-sm transform transition hover:scale-102"},xe={class:"w-full max-w-sm transform transition hover:scale-102"},ye={key:0,class:"flex-1 flex items-center justify-center"},he=I({__name:"battle",setup(e){const{currentPair:t,selectWinner:x,isFinished:d,progress:f,remainingComparisons:y}=Q(),n=U(!1),c=U(0);G(()=>{!t.value&&!d.value&&P({name:"index"})}),J(d,m=>{m&&P({name:"results"})});const g=async m=>{n.value||(n.value=!0,c.value++,await new Promise(r=>setTimeout(r,50)),x(m),await new Promise(r=>setTimeout(r,500)),n.value=!1)};return(m,r)=>{const k=oe,$=pe,h=Y,j=X;return i(),V(j,{class:"min-h-screen flex flex-col py-10"},{default:S(()=>[o("div",fe,[o("p",ge,[r[2]||(r[2]=A(" 還需最多 ",-1)),o("span",ve,b(a(y)),1),r[3]||(r[3]=A(" 次對決 ",-1))]),_(k,{value:a(f),color:"primary",indicator:""},null,8,["value"])]),_(K,{name:"slide-fade",mode:"out-in"},{default:S(()=>[a(t)?(i(),u("div",{key:a(c),class:"flex-1 flex flex-col sm:flex-row items-center justify-center gap-8 sm:gap-16"},[o("div",be,[_($,{character:a(t)[0],class:p({"pointer-events-none opacity-70":a(n)}),onClick:r[0]||(r[0]=C=>g(a(t)[0]))},null,8,["character","class"])]),r[4]||(r[4]=o("div",{class:"text-2xl font-bold text-gray-300"}," VS ",-1)),o("div",xe,[_($,{character:a(t)[1],class:p({"pointer-events-none opacity-70":a(n)}),onClick:r[1]||(r[1]=C=>g(a(t)[1]))},null,8,["character","class"])])])):z("",!0)]),_:1}),!a(t)&&!a(d)?(i(),u("div",ye,[_(h,{name:"i-heroicons-arrow-path",class:"w-12 h-12 animate-spin text-primary-500"})])):z("",!0)]),_:1})}}}),$e=E(he,[["__scopeId","data-v-ef79a7eb"]]);export{$e as default};
