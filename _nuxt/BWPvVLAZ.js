import E from"./UJssAqB_.js";import{a3 as N,a4 as D,g as m,a5 as b,m as j,_ as P,o as B,z as G,B as H,I as F,q as I,i as $,E as K,a6 as R,a7 as T,a8 as U,w as W,l as J,k as L,H as Q,f as z,s as V,x as X,y as Y,a9 as f}from"./Cr04wkDS.js";function Z(e,n){const s={...e};for(const r of n)delete s[r];return s}function ee(e,n,s){typeof n=="string"&&(n=n.split(".").map(o=>{const t=Number(o);return isNaN(t)?o:t}));let r=e;for(const o of n){if(r==null)return s;r=r[o]}return r!==void 0?r:s}const te=(e,n,s,r,o=!1)=>{const t=N(),c=D(),h=m(()=>{const y=b(n),_=b(s),x=b(r);return j(y?.strategy||c.ui?.strategy,x?{wrapper:x}:{},y||{},o?ee(c.ui,e,{}):{},_||{})}),v=m(()=>Z(t,["class"]));return{ui:h,attrs:v}},ne={option:{base:"cursor-default select-none relative flex items-center justify-between gap-1",rounded:"rounded-md",padding:"px-1.5 py-1.5",size:"text-sm",color:"text-gray-900 dark:text-white",container:"flex items-center gap-1.5 min-w-0",active:"bg-gray-100 dark:bg-gray-900",inactive:"",selected:"pe-7",disabled:"cursor-not-allowed opacity-50",empty:"text-sm text-gray-400 dark:text-gray-500 px-2 py-1.5",icon:{base:"flex-shrink-0 h-5 w-5",active:"text-gray-900 dark:text-white",inactive:"text-gray-400 dark:text-gray-500"},selectedIcon:{wrapper:"absolute inset-y-0 end-0 flex items-center",padding:"pe-2",base:"h-5 w-5 text-gray-900 dark:text-white flex-shrink-0"},avatar:{base:"flex-shrink-0",size:"2xs"},chip:{base:"flex-shrink-0 w-2 h-2 mx-1 rounded-full"}}};({...ne.option});const se={base:"mx-auto",padding:"px-4 sm:px-6 lg:px-8",constrained:"max-w-7xl"},re=I({props:{name:{type:String,required:!0},mode:{type:String,required:!1,default:null},size:{type:[Number,String],required:!1,default:null},customize:{type:Function,required:!1,default:null}}});function oe(e,n,s,r,o,t){const c=E;return B(),G(c,H(F(e.$props)),null,16)}const de=P(re,[["render",oe]]);function pe({ui:e,props:n}){const s=T();if(U("ButtonGroupContextConsumer",!0),$("ButtonGroupContextConsumer",!1))return{size:m(()=>n.size),rounded:m(()=>e.value.rounded)};let o=s.parent,t;for(;o&&!t;){if(o.type.name==="ButtonGroup"){t=$(`group-${o.uid}`);break}o=o.parent}const c=m(()=>t?.value.children.indexOf(s));return K(()=>{t?.value.register(s)}),R(()=>{t?.value.unregister(s)}),{size:m(()=>t?.value?t?.value.size??e.value.default.size:n.size),rounded:m(()=>!t||c.value===-1?e.value.rounded:t.value.children.length===1?t.value.ui.rounded:c.value===0?t.value.rounded.start:c.value===t.value.children.length-1?t.value.rounded.end:"rounded-none")}}const ae=j(z.ui.strategy,z.ui.container,se),ie=I({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:n,attrs:s}=te("container",V(e,"ui"),ae),r=m(()=>X(Y(n.value.base,n.value.padding,n.value.constrained),e.class));return{ui:n,attrs:s,containerClass:r}}});function ue(e,n,s,r,o,t){return B(),G(Q(e.as),L({class:e.containerClass},e.attrs),{default:W(()=>[J(e.$slots,"default")]),_:3},16,["class"])}const fe=P(ie,[["render",ue]]);let w=null;const k=e=>{if(e.length<=1)return 0;const n=Math.floor(e.length/2),s=e.slice(0,n),r=e.slice(n);let o=k(s)+k(r);return o+=s.length+r.length-1,o},me=()=>{const e=f("sorter-pair",()=>null),n=f("sorter-results",()=>[]),s=f("sorter-finished",()=>!1),r=f("sorter-progress",()=>0),o=f("sorter-selected-series",()=>["WindBreaker","Haikyu","MHA"]),t=f("sorter-comparison-count",()=>0),c=f("sorter-total-comparisons",()=>0),h=f("sorter-start-time",()=>null),v=f("sorter-end-time",()=>null),y=(a,u)=>(e.value=[a,u],new Promise(d=>{w=d})),_=a=>{w&&(w(a),w=null,e.value=null,t.value++,c.value>0&&(r.value=Math.min(Math.round(t.value/c.value*100),99)))},x=async(a,u)=>{const d=[];let l=0,p=0;for(;l<a.length&&p<u.length;)(await y(a[l],u[p])).id===a[l].id?(d.push(a[l]),l++):(d.push(u[p]),p++);return d.concat(a.slice(l)).concat(u.slice(p))},C=async a=>{if(a.length<=1)return a;const u=Math.floor(a.length/2),d=await C(a.slice(0,u)),l=await C(a.slice(u));return await x(d,l)},O=async a=>{s.value=!1,n.value=[],r.value=0,t.value=0,h.value=Date.now(),v.value=null;const u={};a.forEach(i=>{u[i.series]||(u[i.series]=[]),u[i.series].push(i)}),Object.values(u).forEach(i=>{for(let g=i.length-1;g>0;g--){const S=Math.floor(Math.random()*(g+1));[i[g],i[S]]=[i[S],i[g]]}});const d=[],l=Object.keys(u);for(let i=l.length-1;i>0;i--){const g=Math.floor(Math.random()*(i+1));[l[i],l[g]]=[l[g],l[i]]}let p=!0;for(;p;){p=!1;for(const i of l)u[i].length>0&&(d.push(u[i].pop()),p=!0)}c.value=k(d);const M=await C(d);n.value=M,s.value=!0,r.value=100,v.value=Date.now()},q=a=>{o.value=a},A=m(()=>Math.max(0,c.value-t.value));return{currentPair:e,sortedList:n,isFinished:s,progress:r,selectedSeries:o,remainingComparisons:A,comparisonCount:t,startTime:h,endTime:v,startSorting:O,selectWinner:_,setSelectedSeries:q}};export{fe as _,me as a,de as b,pe as c,te as u};
